name:                sv
version:             0.1.0.0
license:             BSD3
license-file:        LICENCE
author:              George Wilson
maintainer:          george@wils.online
copyright:           Copyright (c) 2017, Commonwealth Scientific and Industrial Research Organisation (CSIRO) ABN 41 687 119 230.
category:            CSV
synopsis:
  Parse and decode values which are separated, often by commas

description:
  sv is for parsing and decoding CSV and similar formats (such as PSV).
  It is called sv because it is useful for values separated by all sorts
  of things; not just commas.

  You should be able to use sv to read your CSV documents and marshal them into
  rich Haskell data types - including not only products, but sums. Then write
  your program in terms of those data types.

  sv focuses on correctness, on flexible and composable decoder data types,
  and on useful and informative errors.
  Speed is also important to us, but not as important as the above.

  sv chooses not to use type classes for decoders, since each data type might
  be encoded in different ways in different files. Instead, decoders are
  first-class values: a user has the power to create and pass decoders around.
  This approach was inspired by hedgehog, which we use for testing.
  In other design aspects, sv is somewhat inspired by argonaut.

  sv tries not to be opinionated about how your data should look. We intend for
  the user to have a great degree of freedom to build the right decoder for
  their dataset. This focus often means that our types are heavily
  parameterised. We have tried to provide hints in the haddock comments as to
  how one would usually instantiate a given type.

homepage:            https://github.com/qfpl/sv
bug-reports:         https://github.com/qfpl/sv/issues
build-type:          Simple
extra-source-files:  changelog.md
                     , test/species.csv
                     , test/ragged.csv
                     , test/commastring.csv
                     , test/concat.csv
                     , test/requote.csv
                     , test/tt-handicap.csv
cabal-version:       >=1.10
tested-with:         GHC == 7.10.3, GHC == 8.0.2, GHC == 8.2.2

source-repository    head
  type:              git
  location:          git@github.com/qfpl/sv.git

library
  exposed-modules:     Data.Sv
                       , Data.Sv.Config
                       , Data.Sv.Decode
                       , Data.Sv.Decode.Error
                       , Data.Sv.Decode.Field
                       , Data.Sv.Decode.State
                       , Data.Sv.Decode.Type
                       , Data.Sv.Field
                       , Data.Sv.Lens.Util
                       , Data.Sv.Parser
                       , Data.Sv.Parser.Internal
                       , Data.Sv.Print
                       , Data.Sv.Record
                       , Data.Sv.Sv
                       , Data.Functor.Compose.Extra
                       , Data.Semigroup.Foldable.Extra
                       , Text.Babel
                       , Text.Escaped
                       , Text.Newline
                       , Text.Quote
                       , Text.Space
  -- other-modules:
  -- other-extensions:    
  build-depends:       ansi-wl-pprint >= 0.6.6 && < 0.7
                       , attoparsec >= 0.12.1.4 && < 0.14
                       , base >=4.8 && <5
                       , bifunctors >= 5.1 && < 6
                       , bytestring >= 0.9.1.10 && < 0.11
                       , charset >=0.3 && <=0.4
                       , containers >= 0.4.0 && < 0.6
                       , lens >= 4 && < 5
                       , mtl >= 2.0.1 && < 2.3
                       , parsec >= 3.1 && < 3.2
                       , parsers >=0.12 && <0.13
                       , profunctors >= 5.2.1 && < 6
                       , readable >= 0.3 && < 0.4
                       , semigroupoids >= 5 && <6
                       , semigroups >= 0.18 && < 0.19
                       , separated >= 0.3 && < 0.4
                       , text >= 1.0 && < 1.3
                       , transformers >= 0.2 && < 0.6
                       , trifecta >= 1.7 && < 1.8
                       , validation >= 0.6.2 && < 1
  hs-source-dirs:      src
  default-language:    Haskell2010
  ghc-options:
                       -Wall

test-suite             tasty
  type:
                       exitcode-stdio-1.0
  main-is:
                       tasty.hs
  other-modules:
                       Data.Sv.DecodeTest
                       , Data.Sv.ParserTest
                       , Data.Sv.PrintTest
                       , Data.Sv.Generators
  default-language:
                       Haskell2010
  build-depends:
                       ansi-wl-pprint >= 0.6.6 && < 0.7
                       , base >=4.8 && <5
                       , bytestring >= 0.9.1.10 && < 0.11
                       , hedgehog >= 0.5 && < 0.6
                       , lens >= 4 && < 5
                       , parsers >=0.12 && <0.13
                       , QuickCheck >= 2.9 && <2.11
                       , semigroupoids >= 5 && <6
                       , semigroups >= 0.18 && < 0.19
                       , separated >= 0.3 && < 0.4
                       , sv
                       , tasty >= 0.11 && < 0.12
                       , tasty-hedgehog >= 0.1 && < 0.2
                       , tasty-hunit >= 0.9 && < 0.10
                       , tasty-quickcheck >= 0.8 && < 0.9
                       , text >= 1.0 && < 1.3
                       , trifecta >= 1.7 && < 1.8
                       , validation >= 0.6.2 && < 1
  ghc-options:
                       -Wall
  hs-source-dirs:
                       test


test-suite             species
  type:
                       exitcode-stdio-1.0
  main-is:
                       species.lhs
  default-language:
                       Haskell2010
  build-depends:
                       base >=4.8 && <5
                       , bytestring >= 0.9.1.10 && < 0.11
                       , lens >= 4 && < 5
                       , sv
  ghc-options:
                       -Wall
  hs-source-dirs:
                       test


test-suite             requote
  type:
                       exitcode-stdio-1.0
  main-is:
                       requote.hs
  default-language:
                       Haskell2010
  build-depends:
                       base >=4.8 && <5
                       , bytestring >= 0.9.1.10 && < 0.11
                       , lens >= 4 && < 5
                       , text >= 1.0 && < 1.3
                       , trifecta >= 1.7 && < 1.8
                       , sv
  ghc-options:
                       -Wall
  hs-source-dirs:
                       test

test-suite             ragged
  type:
                       exitcode-stdio-1.0
  main-is:
                       ragged.hs
  default-language:
                       Haskell2010
  build-depends:
                       base >=4.8 && <5
                       , bytestring >= 0.9.1.10 && < 0.11
                       , lens >= 4 && < 5
                       , semigroupoids >= 5 && <6
                       , sv
                       , text >= 1.0 && < 1.3
  ghc-options:
                       -Wall
  hs-source-dirs:
                       test


test-suite             concat
  type:
                       exitcode-stdio-1.0
  main-is:
                       concat.hs
  default-language:
                       Haskell2010
  build-depends:
                       base >=4.8 && <5
                       , bytestring >= 0.9.1.10 && < 0.11
                       , lens >= 4 && < 5
                       , text >= 1.0 && < 1.3
                       , trifecta >= 1.7 && < 1.8
                       , sv
  ghc-options:
                       -Wall
  hs-source-dirs:
                       test


test-suite             tt
  type:
                       exitcode-stdio-1.0
  main-is:
                       tt.hs
  default-language:
                       Haskell2010
  build-depends:
                       base >=4.8 && <5
                       , bytestring >= 0.9.1.10 && < 0.11
                       , lens >= 4 && < 5
                       , old-locale
                       , parsers >=0.12 && <0.13
                       , text >= 1.0 && < 1.3
                       , thyme >= 0.3.5 && < 0.4
                       , sv
  ghc-options:
                       -Wall
  hs-source-dirs:
                       test

test-suite             commastring
  type:
                       exitcode-stdio-1.0
  main-is:
                       commastring.hs
  default-language:
                       Haskell2010
  build-depends:
                       base >=4.8 && <5
                       , bytestring >= 0.9.1.10 && < 0.11
                       , lens >= 4 && < 5
                       , semigroups >= 0.18 && < 0.19
                       , semigroupoids >= 5 && <6
                       , sv
                       , text >= 1.0 && < 1.3
  ghc-options:
                       -Wall
  hs-source-dirs:
                       test
